/* ===============================
   GLOBAL
================================== */
*{box-sizing:border-box;}
body{font-family:'Rubik',sans-serif;margin:0;background:#fff;}
a{color:inherit;text-decoration:none;}

/* ===============================
   ALERT BAR
================================== */
.alert{
  padding:8px 25px;
  background:linear-gradient(90deg,#6327e5,#a734af);
  color:#fff;
  position:sticky;top:0;font-size:10px;font-weight:600;
  display:flex;align-items:center;justify-content:space-between;z-index:1001;
}
.alert .material-symbols-outlined{font-size:14px;}
.alert a.learn-more{color:#fff;text-decoration:underline;}
.closebtn{cursor:pointer;transition:.3s;}
.closebtn:hover{font-size:18px;}

/* ===============================
   HEADER
================================== */
header{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 30px;background:#fff;position:sticky;top:0;z-index:1000;
}
.logo img{height:22px;}

/* ===============================
   DESKTOP NAV
================================== */
nav{display:flex;gap:30px;align-items:center;position:relative;}
nav > div{position:relative;}
nav > div > a{
  color:#130328;font-weight:500;font-size:13px;padding:10px 0;
  transition:color .3s;
}
nav > div:hover > a{color:#6327e5;}

/* ----- SUBMENU ----- */
.submenu{
  position:fixed;top:calc(60px + 10px);left:0;width:100%;
  background:linear-gradient(to bottom,#fff,rgba(99,39,229,.1));
  border-radius:0 0 20px 20px;box-shadow:0 8px 20px rgba(0,0,0,.08);
  opacity:0;visibility:hidden;pointer-events:none;
  transform:translateY(10px);transition:opacity .25s,transform .25s;z-index:999;
}
nav > div:hover .submenu{
  opacity:1;visibility:visible;pointer-events:auto;transform:translateY(0);
}
.submenu-inner{
  max-width:1300px;margin:auto;padding:30px;display:flex;gap:25px; /* reduced gap between columns */
}

/* left side */
.submenu-left{flex:1;display:flex;flex-wrap:wrap;gap:18px;} /* reduced row spacing */
.submenu-left a{flex:1 1 calc(33.333% - 18px);min-width:200px;}

/* right side (info / map) */
.submenu-right {
  width:320px;
  flex-shrink:0;
  border-radius:16px;
  padding:20px;
  color:#130328;
  background:rgba(99,39,229,.08); /* soft light purple background */
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  gap:25px;
}

.submenu-right h4{margin:0 0 5px;font-size:16px;font-weight:600;color:#130328;}
.submenu-right p{font-size:13px;margin:0;color:#555;}

/* ----- ITEM ----- */
.submenu-item{
  display:flex;justify-content:space-between;align-items:center;
  padding:18px 20px;background:rgba(99,39,229,.08);
  border-radius:14px;transition:all .3s;
}
.submenu-item:hover{
  background:rgba(99,39,229,.2);
  transform:translateY(-3px);box-shadow:0 4px 12px rgba(0,0,0,.08);
}
.submenu-title{font-weight:600;font-size:15px;color:#130328;}
.submenu-subtitle{font-size:11px;color:#555;margin-top:3px;}
.submenu-icon{
  width:36px;height:36px;background:#6327e5;color:#fff;
  border-radius:10px;display:flex;align-items:center;justify-content:center;
  font-size:16px;border:1px solid #6327e5;
}

/* ----- THEME PER TAB ----- */
nav > div.buy .submenu{background:linear-gradient(to bottom,#fff,rgba(99,39,229,.1));}
nav > div.buy .submenu-item{background:rgba(99,39,229,.08);}
nav > div.buy .submenu-item:hover{background:rgba(99,39,229,.2);}
nav > div.buy .submenu-icon{background:#6327e5;border-color:#6327e5;}
nav > div.buy .submenu-right{background:rgba(99,39,229,.08);} /* light purple box behind map */

nav > div.manage .submenu{background:linear-gradient(to bottom,#fff,rgba(52,167,175,.1));}
nav > div.manage .submenu-item{background:rgba(52,167,175,.08);}
nav > div.manage .submenu-item:hover{background:rgba(52,167,175,.2);}
nav > div.manage .submenu-icon{background:#34a7af;border-color:#34a7af;}
nav > div.manage .submenu-right{background:rgba(52,167,175,.08);}

nav > div.services .submenu{background:linear-gradient(to bottom,#fff,rgba(163,52,175,.1));}
nav > div.services .submenu-item{background:rgba(163,52,175,.08);}
nav > div.services .submenu-item:hover{background:rgba(163,52,175,.2);}
nav > div.services .submenu-icon{background:#a734af;border-color:#a734af;}
nav > div.services .submenu-right{background:rgba(163,52,175,.08);}

/* ----- BUTTON ----- */
.btn-bubble{
  padding:10px 20px;background:#a734af;color:#fff;border-radius:999px;
  font-size:12px;font-weight:500;transition:all .3s;
}
.btn-bubble:hover{box-shadow:0 2px 8px rgba(99,39,229,.3);}

/* ===============================
   MOBILE MENU TOGGLE
================================== */
.menu-toggle{display:none;cursor:pointer;width:18px;height:12px;}
.menu-toggle span{
  display:block;height:2px;width:100%;background:#130328;margin:4px 0;
  border-radius:2px;transition:all .3s;
}
.menu-toggle.active span:nth-child(1){transform:rotate(45deg) translate(3px,3px);}
.menu-toggle.active span:nth-child(2){transform:rotate(-45deg) translate(3px,-3px);}

/* ===============================
   MOBILE MENU (collapsible)
================================== */
.mobile-menu{
  display:none;list-style:none;padding:0;margin:0;
  background:#fff;border-top:1px solid #eee;
}
.mobile-menu li{border-bottom:1px solid #eee;}
.mobile-menu > li > a{
  display:flex;justify-content:space-between;align-items:center;
  padding:14px 20px;color:#130328;font-weight:500;
}
.mobile-menu .arrow{
  font-family:'Material Symbols Outlined';font-size:18px;
  transition:transform .3s;color:#6327e5;
}
.mobile-menu .expanded .arrow{transform:rotate(180deg);}
.mobile-menu .submenu{
  display:none;background:#f9f5ff;padding:0 0 10px;
}
.mobile-menu .submenu li a{
  padding:10px 20px 10px 48px;color:#6a4fb0;display:flex;align-items:center;
}
.mobile-menu .submenu-icon{
  font-family:'Material Symbols Outlined';margin-right:8px;
  color:#6a4fb0;font-size:18px;
}

/* ===============================
   MAP (right side)
================================== */
.submenu-right.map-container #map {
  width: 100%;
  max-width: 360px;
  aspect-ratio: 16/10;
  border-radius: 12px;
  overflow: hidden;
  position: relative;
}

.submenu-right.map-container .state {
  fill: rgba(99, 39, 229, 0.5);
  stroke: #fff;
  stroke-width: 0.6;
  cursor: pointer;
  transition: fill 0.25s, stroke 0.25s, stroke-width 0.25s, transform 0.25s;
}

.submenu-right.map-container .state:hover {
  fill: #a734af;
  stroke: #6327e5;
  stroke-width: 1;
  transform: scale(1.02);
  filter: drop-shadow(0 3px 4px rgba(99, 39, 229, 0.3));
}

.submenu-right.map-container .tooltip {
  position: absolute;
  background: rgba(99, 39, 229, 0.95);
  color: #fff;
  padding: 5px 10px;
  border-radius: 8px;
  font-size: 12px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s;
  z-index: 10;
}
  .submenu-right {
  background: rgba(99,39,229,.08);
}


/* ===============================
   RESPONSIVE
================================== */
@media (max-width:900px){
  .submenu-inner{flex-direction:column;padding:20px;gap:20px;}
  .submenu-left a{flex:1 1 100%;min-width:0;}
  .submenu-right{width:100%;margin-top:20px;}
}
@media (max-width:768px){
  .menu-toggle{display:block;}
  nav{
    position:absolute;top:100%;left:0;right:0;
    flex-direction:column;background:#fff;max-height:0;overflow:hidden;
    transition:max-height .3s ease;
  }
  nav.active{max-height:1200px;}
  nav > div{width:100%;}
  nav > div > a{padding:15px 20px;display:block;}
  .submenu{position:relative;top:0;width:100%;opacity:1;visibility:visible;
          pointer-events:auto;transform:none;box-shadow:none;padding:10px 0;}
  .submenu-inner{padding:0 20px;flex-direction:column;}
  .submenu-left,.submenu-right{width:100%;margin:0;}
  .mobile-menu{display:block;}
}
